(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dd8405f"],{"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var a,o,c=String(i(e)),u=r(n),s=c.length;return u<0||u>=s?t?"":void 0:(a=c.charCodeAt(u),a<55296||a>56319||u+1===s||(o=c.charCodeAt(u+1))<56320||o>57343?t?c.charAt(u):a:t?c.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),a=n("79e5"),o=n("be13"),c=n("2b4c"),u=n("520a"),s=c("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=c(t),v=!a((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),h=v?!a((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[s]=function(){return n}),n[d](""),!e})):void 0;if(!v||!h||"replace"===t&&!l||"split"===t&&!f){var p=/./[d],g=n(o,d,""[t],(function(t,e,n,r,i){return e.exec===u?v&&!i?{done:!0,value:p.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),b=g[0],y=g[1];r(String.prototype,t,b),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),a=n("ebd6"),o=n("0390"),c=n("9def"),u=n("5f1b"),s=n("520a"),l=n("79e5"),f=Math.min,d=[].push,v="split",h="length",p="lastIndex",g=4294967295,b=!l((function(){RegExp(g,"y")}));n("214f")("split",2,(function(t,e,n,l){var y;return y="c"=="abbc"[v](/(b)*/)[1]||4!="test"[v](/(?:)/,-1)[h]||2!="ab"[v](/(?:ab)*/)[h]||4!="."[v](/(.?)(.?)/)[h]||"."[v](/()()/)[h]>1||""[v](/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var a,o,c,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=void 0===e?g:e>>>0,b=new RegExp(t.source,l+"g");while(a=s.call(b,i)){if(o=b[p],o>f&&(u.push(i.slice(f,a.index)),a[h]>1&&a.index<i[h]&&d.apply(u,a.slice(1)),c=a[0][h],f=o,u[h]>=v))break;b[p]===a.index&&b[p]++}return f===i[h]?!c&&b.test("")||u.push(""):u.push(i.slice(f)),u[h]>v?u.slice(0,v):u}:"0"[v](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):y.call(String(i),n,r)},function(t,e){var r=l(y,t,this,e,y!==n);if(r.done)return r.value;var s=i(t),d=String(this),v=a(s,RegExp),h=s.unicode,p=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(b?"y":"g"),x=new v(b?s:"^(?:"+s.source+")",p),m=void 0===e?g:e>>>0;if(0===m)return[];if(0===d.length)return null===u(x,d)?[d]:[];var w=0,S=0,k=[];while(S<d.length){x.lastIndex=b?S:0;var C,E=u(x,b?d:d.slice(S));if(null===E||(C=f(c(x.lastIndex+(b?0:S)),d.length))===w)S=o(d,S,h);else{if(k.push(d.slice(w,S)),k.length===m)return k;for(var _=1;_<=E.length-1;_++)if(k.push(E[_]),k.length===m)return k;S=w=C}}return k.push(d.slice(w)),k}]}))},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386d":function(t,e,n){"use strict";var r=n("cb7c"),i=n("83a1"),a=n("5f1b");n("214f")("search",1,(function(t,e,n,o){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=o(n,t,this);if(e.done)return e.value;var c=r(t),u=String(this),s=c.lastIndex;i(s,0)||(c.lastIndex=0);var l=a(c,u);return i(c.lastIndex,s)||(c.lastIndex=s),null===l?-1:l.index}]}))},"520a":function(t,e,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,a=String.prototype.replace,o=i,c="lastIndex",u=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[c]||0!==e[c]}(),s=void 0!==/()??/.exec("")[1],l=u||s;l&&(o=function(t){var e,n,o,l,f=this;return s&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),u&&(e=f[c]),o=i.call(f,t),u&&o&&(f[c]=f.global?o.index+o[0].length:e),s&&o&&o.length>1&&a.call(o[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)})),o}),t.exports=o},"53ca":function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return r}))},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},6777:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view"},[n("div",{staticClass:"today"},[n("div",{staticClass:"view-data"},[n("div",{staticClass:"left"},[t._v("今日访客数")]),t._v(" "),n("div",{staticClass:"right fs18",attrs:{for:""}},[t._v(t._s(t.uvcount))])]),t._v(" "),n("div",{staticClass:"view-data"},[n("div",{staticClass:"left"},[t._v("今日浏览量")]),t._v(" "),n("div",{staticClass:"right fs18",attrs:{for:""}},[t._v(t._s(t.pvcount))])])]),t._v(" "),n("div",{staticClass:"date"},[n("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:20}},[n("el-select",{attrs:{size:"mini"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("el-option",{attrs:{label:"访客数",value:"uv"}}),t._v(" "),n("el-option",{attrs:{label:"浏览量",value:"pv"}})],1),t._v(" "),n("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"开始日期"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),t._v(" "),n("el-date-picker",{attrs:{size:"mini",type:"date",placeholder:"结束日期"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.query()}}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{loading:t.downloadLoading,size:"mini",type:"primary"},on:{click:function(e){return t.handleDownload()}}},[t._v("下载excel")])],1)],1)],1),t._v(" "),n("div",{staticClass:"echart"},[n("div",{style:{width:"1000px",height:"550px"},attrs:{id:"myChart"}})])])},i=[],a=n("ed08"),o={data:function(){return{pvcount:"...",uvcount:"...",start:"",end:"",uvlist:[],type:"uv",downloadLoading:!1,filename:"日活量",autoWidth:!0,bookType:"xlsx"}},mounted:function(){this.start=this.getBeforeDate(15),this.end=Object(a["a"])(new Date,"{y}-{m}-{d}"),this.init(),this.getUVCount()},methods:{init:function(){var t=this;this.req({url:"StoreManage/GetCurrentdayviewData",data:{},method:"GET"}).then((function(e){t.pvcount=e.PV||0,t.uvcount=e.UV||0}),(function(t){console.log("err :",t)}))},getUVCount:function(){var t=this;this.req({url:"StoreManage/GetviewData?param="+JSON.stringify({start:this.start,end:this.end,type:this.type}),data:{},method:"GET"}).then((function(e){t.uvlist=e||[],t.drawLine(t.uvlist)}),(function(t){console.log("err :",t)}))},query:function(){this.start&&this.end&&(this.start>this.end&&alert("结束日期要大于开始日期"),this.start=Object(a["a"])(this.start,"{y}-{m}-{d}"),this.end=Object(a["a"])(this.end,"{y}-{m}-{d}"),this.getUVCount())},getdateList:function(){var t=new Date(this.start),e=new Date(this.end),n=[];n.push(new Date(t));while(1){if(t.setDate(t.getDate()+1),!(t.getTime()<e.getTime()))break;n.push(new Date(t))}n.push(new Date(e));var r=[];return n.map((function(t){r.push(Object(a["a"])(t,"{y}-{m}-{d}"))})),r},drawLine:function(t){var e=this.$echarts.init(document.getElementById("myChart")),n=this.getdateList(),r=[];n.map((function(e){for(var n=0,i=0;i<t.length;i++)if(t[i].date==e){n=t[i].Total;break}r.push(n)}));var i={backgroundColor:"#fff",color:["uv"==this.type?"#409eff":"#9FE6B8"],tooltip:{trigger:"axis"},legend:{data:[]},grid:{containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:n},yAxis:{x:"center",type:"value"},series:[{name:"uv"==this.type?"访客量":"浏览量",type:"line",smooth:!0,data:r}]};e.setOption(i)},getBeforeDate:function(t){t=t;var e=new Date,n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();i<=t&&(r>1?r-=1:(n-=1,r=12)),e.setDate(e.getDate()-t),n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();var a=n+"-"+(r<10?"0"+r:r)+"-"+(i<10?"0"+i:i);return a},handleDownload:function(){var t=this,e=this.uvlist;0!=e.length?(this.downloadLoading=!0,Promise.all([n.e("chunk-65a84c8e"),n.e("chunk-58293907")]).then(n.bind(null,"4bf8d")).then((function(n){var r=["时间","总数"],i=["date","Total"],a=t.formatJson(i,e);n.export_json_to_excel({header:r,data:a,filename:"uv"==t.type?"访客量":"浏览量",autoWidth:t.autoWidth,bookType:t.bookType}),t.downloadLoading=!1}))):alert("数据为空")},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return"timestamp"===t?Object(a["a"])(e[t]):e[t]}))}))}}},c=o,u=(n("b574"),n("2877")),s=Object(u["a"])(c,r,i,!1,null,"b0e428e6",null);e["default"]=s.exports},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),a=n("9e1e"),o="toString",c=/./[o],u=function(t){n("2aba")(RegExp.prototype,o,t,!0)};n("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?u((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)})):c.name!=o&&u((function(){return c.call(this)}))},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),a=n("9def"),o=n("4588"),c=n("0390"),u=n("5f1b"),s=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,p){return[function(r,i){var a=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),v="function"===typeof e;v||(e=String(e));var b=f.global;if(b){var y=f.unicode;f.lastIndex=0}var x=[];while(1){var m=u(f,d);if(null===m)break;if(x.push(m),!b)break;var w=String(m[0]);""===w&&(f.lastIndex=c(d,a(f.lastIndex),y))}for(var S="",k=0,C=0;C<x.length;C++){m=x[C];for(var E=String(m[0]),_=s(l(o(m.index),d.length),0),D=[],R=1;R<m.length;R++)D.push(h(m[R]));var j=m.groups;if(v){var I=[E].concat(D,_,d);void 0!==j&&I.push(j);var O=String(e.apply(void 0,I))}else O=g(E,d,_,D,j,e);_>=k&&(S+=d.slice(k,_)+O,k=_+E.length)}return S+d.slice(k)}];function g(t,e,r,a,o,c){var u=r+t.length,s=a.length,l=v;return void 0!==o&&(o=i(o),l=d),n.call(c,l,(function(n,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":c=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>s){var d=f(l/10);return 0===d?n:d<=s?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):n}c=a[l-1]}return void 0===c?"":c}))}}))},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),a=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b574:function(t,e,n){"use strict";var r=n("ddd3"),i=n.n(r);i.a},ddd3:function(t,e,n){},ed08:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("386d"),n("28a5"),n("a481"),n("6b54");var r=n("53ca");function i(t,e){if(0===arguments.length)return null;var n,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(r["a"])(t)?n=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),n=new Date(t));var a={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},o=i.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var n=a[e];return"a"===e?["日","一","二","三","四","五","六"][n]:(t.length>0&&n<10&&(n="0"+n),n||0)}));return o}}}]);