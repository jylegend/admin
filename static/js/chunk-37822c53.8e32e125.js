(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37822c53"],{bc4e:function(t,e,o){},e273:function(t,e,o){"use strict";var a=o("bc4e"),l=o.n(a);l.a},f73a:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[o("el-table-column",{attrs:{width:"50"}}),t._v(" "),o("el-table-column",{attrs:{label:"用户手机号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("label",[t._v(t._s(e.row.Mobile?e.row.Mobile:"-"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"Nickname",label:"昵称",width:"200"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Coins",label:"当前金币数量",width:"200"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"优惠券数量",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("label",[t._v(t._s(e.row.CouponCount)+" 张")]),t._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.CouponCount>0,expression:"scope.row.CouponCount>0"}],staticStyle:{"margin-left":"20px"},attrs:{type:"text",size:"small"},on:{click:function(o){return t.showCouponsList(e.row)}}},[t._v("详细")])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"积分、金币记录",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return t.showCoinsList(e.row)}}},[t._v("点击查看")])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"State",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("label",{staticClass:"enable",class:{disable:!e.row.State}},[t._v(t._s(e.row.State?"启用":"禁用"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return t.updateState(e.row,"State")}}},[t._v(t._s(e.row.State?"禁用":"启用"))])]}}])})],1),t._v(" "),o("div",{staticClass:"bottom"},[o("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"total,prev, pager, next",total:t.total,"page-size":t.pageSize},on:{"current-change":t.pageChange,"prev-click":t.pageChange,"next-click":t.pageChange}})],1),t._v(" "),o("el-dialog",{attrs:{visible:t.coupon.dialogFormVisible},on:{"update:visible":function(e){return t.$set(t.coupon,"dialogFormVisible",e)}}},[o("el-table",{attrs:{data:t.coupon.list}},[o("el-table-column",{attrs:{property:"CreateTime",label:"日期",width:"200"}}),t._v(" "),o("el-table-column",{attrs:{property:"Mobile",label:"手机号",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{property:"CouponName",label:"优惠券名称"}})],1)],1),t._v(" "),o("el-dialog",{attrs:{visible:t.coin.dialogFormVisible},on:{"update:visible":function(e){return t.$set(t.coin,"dialogFormVisible",e)}}},[o("el-table",{attrs:{data:t.coin.list}},[o("el-table-column",{attrs:{property:"ChangeTime",label:"日期",width:"200"}}),t._v(" "),o("el-table-column",{attrs:{label:"类型",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("label",[t._v(t._s("addscores"==e.row.RecordType?"积分变动":"金币变动"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{property:"ChangeBalance",label:"变动数量",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{property:"ChangeDesc",label:"描叙"}})],1)],1)],1)},l=[],i=(o("5c96"),{data:function(){return{tableData:[],pageSize:5,pageNo:1,total:0,dialogFormVisible:!1,coupon:{list:[],pageSize:50,pageNo:1,total:0,dialogFormVisible:!1},coin:{list:[],pageSize:50,pageNo:1,total:0,dialogFormVisible:!1}}},mounted:function(){this.getStorelist()},methods:{getStorelist:function(){var t=this;this.req({url:"StoreManage/Getuserlist?param="+JSON.stringify({index:this.pageNo,size:this.pageSize}),data:{},method:"GET"}).then((function(e){t.tableData=e.ulist||[],t.total=e.total||0}),(function(t){console.log("err :",t)}))},pageChange:function(t){this.pageNo=t,this.getStorelist()},showCouponsList:function(t){var e=this;this.req({url:"StoreManage/Getusercouponlist?param="+JSON.stringify({index:this.pageNo,size:this.pageSize,mobile:t.Mobile||""}),data:{},method:"GET"}).then((function(t){e.coupon.list=t.list||[],e.coupon.total=t.total||0,e.coupon.dialogFormVisible=!e.coupon.dialogFormVisible}),(function(t){console.log("err :",t)}))},showCoinsList:function(t){var e=this;this.req({url:"StoreManage/Getuserrecordlist?param="+JSON.stringify({index:this.pageNo,size:this.pageSize,openid:t.Openid||""}),data:{},method:"GET"}).then((function(t){e.coin.list=t.list||[],e.coin.total=t.total||0,e.coin.dialogFormVisible=!e.coupon.dialogFormVisible}),(function(t){console.log("err :",t)}))},updateState:function(t,e){t[e]=!t[e],this.req({url:"StoreManage/UpdateUserbyOpenid",data:t,method:"post"}).then((function(t){alert("更新成功")}),(function(t){console.log("err :",t)}))},openDetails:function(t){t&&(this.mode="update"),this.fileList=[],this.getDetails(t),this.dialogFormVisible=!this.dialogFormVisible}}}),n=i,s=(o("e273"),o("2877")),r=Object(s["a"])(n,a,l,!1,null,null,null);e["default"]=r.exports}}]);