(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2217d03a"],{"53ca":function(e,n,o){"use strict";function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}o.d(n,"a",(function(){return t}))},e079:function(e,n,o){"use strict";o.r(n);var t=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticStyle:{margin:"10px"}},[o("el-form",{attrs:{"label-position":"right","label-width":"200px"}},[o("el-form-item",{attrs:{label:"游戏兑换积分汇率"}},[o("el-input-number",{attrs:{precision:2,step:.1,min:.1,max:5,label:"输入兑换汇率"},model:{value:e.config.CoinToScores,callback:function(n){e.$set(e.config,"CoinToScores",n)},expression:"config.CoinToScores"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("CoinToScores")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"每日最高可得积分"}},[o("el-input-number",{attrs:{step:10,min:1,max:1e3,label:"每日最高可得积分"},model:{value:e.config.MAXSCORES,callback:function(n){e.$set(e.config,"MAXSCORES",n)},expression:"config.MAXSCORES"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("MAXSCORES")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"每跳一步的金币"}},[o("el-input-number",{attrs:{step:1,min:1,max:100,label:"每跳一步的金币"},model:{value:e.config.NEXTSTEP,callback:function(n){e.$set(e.config,"NEXTSTEP",n)},expression:"config.NEXTSTEP"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("NEXTSTEP")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"首次登录所得金币"}},[o("el-input-number",{attrs:{step:1,min:1,max:100,label:"首次登录所得金币"},model:{value:e.config.LOGIN,callback:function(n){e.$set(e.config,"LOGIN",n)},expression:"config.LOGIN"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("LOGIN")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"完成会员注册所得金币"}},[o("el-input-number",{attrs:{step:1,min:1,max:100,label:"完成会员注册所得金币"},model:{value:e.config.REG,callback:function(n){e.$set(e.config,"REG",n)},expression:"config.REG"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("REG")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"会员最多所得优惠券数量"}},[o("el-input-number",{attrs:{step:1,min:1,max:100,label:"会员最多所得优惠券数量"},model:{value:e.config.MaxCouponCount,callback:function(n){e.$set(e.config,"MaxCouponCount",n)},expression:"config.MaxCouponCount"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("MaxCouponCount")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"分享所得金币"}},[o("el-input-number",{attrs:{step:1,min:1,max:100,label:"分享所得金币"},model:{value:e.config.SHARE,callback:function(n){e.$set(e.config,"SHARE",n)},expression:"config.SHARE"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("SHARE")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"续玩游戏条件"}},[o("label",{attrs:{for:""}},[e._v("跳到指定步数：")]),e._v(" "),o("el-input-number",{attrs:{step:1,min:1,max:100},model:{value:e.config.CONTINUEPLAY.needstep,callback:function(n){e.$set(e.config.CONTINUEPLAY,"needstep",n)},expression:"config.CONTINUEPLAY.needstep"}}),e._v(" "),o("label",{attrs:{for:""}},[e._v("扣除积分：")]),e._v(" "),o("el-input-number",{attrs:{step:1,min:1,max:100},model:{value:e.config.CONTINUEPLAY.needscores,callback:function(n){e.$set(e.config.CONTINUEPLAY,"needscores",n)},expression:"config.CONTINUEPLAY.needscores"}}),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("CONTINUEPLAY")}}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"累计金币得优惠券"}},[e._l(e.config.AddUpCoinGiveCoupon,(function(n,t){return o("div",{key:n,staticStyle:{margin:"0 0 10px"}},[o("label",{attrs:{for:""}},[e._v("累计金币数量：")]),e._v(" "),o("el-input-number",{attrs:{step:1,min:1,max:1e4},model:{value:n.needcoins,callback:function(o){e.$set(n,"needcoins",o)},expression:"a.needcoins"}}),e._v(" "),o("label",{attrs:{for:""}},[e._v("优惠券类型：")]),e._v(" "),o("el-select",{attrs:{placeholder:"选择优惠券"},model:{value:n.couponid,callback:function(o){e.$set(n,"couponid",o)},expression:"a.couponid"}},e._l(e.couponList,(function(e){return o("el-option",{key:e.Id,attrs:{label:e.CouponName,value:e.Id}})})),1),e._v(" "),t>0&&1!=e.config.AddUpCoinGiveCoupon.length?o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",span:6,type:"danger"},on:{click:function(n){return e.removeItem(t)}}},[e._v("删除")]):e._e(),e._v(" "),t+1>=e.config.AddUpCoinGiveCoupon.length?o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",span:4,type:"success"},on:{click:e.plusItem}},[e._v("新增")]):e._e()],1)})),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save("AddUpCoinGiveCoupon")}}},[e._v("保存")])],2)],1)],1)},i=[],c=o("53ca"),a=o("5c96"),l={data:function(){return{config:{CoinToScores:.1,MAXSCORES:500,NEXTSTEP:1,LOGIN:0,REG:0,MaxCouponCount:10,SHARE:1,CONTINUEPLAY:{needstep:"30",needscores:"5"},AddUpCoinGiveCoupon:[{needcoins:"50",couponid:""}],couponList:[]},desc:{CoinToScores:"游戏金币转换为积分率",MAXSCORES:"每天得到的最高积分",NEXTSTEP:"每跳一步的金币",LOGIN:"登录完成送的金币",REG:"注册完成送的金币",MaxCouponCount:"每天最多获得的优惠券数量",SHARE:"分享金币",CONTINUEPLAY:"复活需要的条件",AddUpCoinGiveCoupon:"每局游戏累计到多少金币送优惠券"}}},mounted:function(){this.initConfigs()},methods:{initConfigs:function(){var e=this;this.req({url:"StoreManage/GetKeyconfig",data:{},method:"GET"}).then((function(n){if(n.coupon&&(e.couponList=n.coupon),n.configs)for(var o=0;o<n.configs.length;o++){var t=n.configs[o];if("CoinToScores"==t.Key&&(e.config.CoinToScores=t["CoinToScores"]||.1),"MAXSCORES"==t.Key&&(e.config.MAXSCORES=t.Value||500),"NEXTSTEP"==t.Key&&(e.config.NEXTSTEP=t.Value||1),"LOGIN"==t.Key&&(e.config.LOGIN=t.Value||0),"REG"==t.Key&&(e.config.REG=t.Value||0),"MaxCouponCount"==t.Key&&(e.config.MaxCouponCount=t.Value||10),"SHARE"==t.Key&&(e.config.SHARE=t.Value||0),"CONTINUEPLAY"==t.Key){var i=t.Value?JSON.parse(t.Value):null;e.config.CONTINUEPLAY=i||{needstep:"30",needscores:"5"}}if("AddUpCoinGiveCoupon"==t.Key){var c=t.Value?JSON.parse(t.Value):null;e.config.AddUpCoinGiveCoupon=c||[],console.log(c)}}}),(function(e){console.log("err :",e)}))},removeItem:function(e){this.config.AddUpCoinGiveCoupon.splice(e,1)},plusItem:function(){var e=this.config.AddUpCoinGiveCoupon;e.push({needcoins:"",couponid:""}),this.config.AddUpCoinGiveCoupon=e},save:function(e){var n=e,o=this.config[n],t=this.desc[n];if("object"==Object(c["a"])(o)&&(o=JSON.stringify(o)),!o)return Object(a["Message"])({message:"请检查值是否正确",type:"error",duration:2e3});this.req({url:"StoreManage/updateconfig",data:{k:n,v:o,d:t},method:"post"}).then((function(e){alert("更新成功")}),(function(e){console.log("err :",e)}))}}},r=l,s=o("2877"),u=Object(s["a"])(r,t,i,!1,null,null,null);n["default"]=u.exports}}]);